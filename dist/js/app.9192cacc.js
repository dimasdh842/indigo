(function(){"use strict";var e={859:function(e,t,n){var o=n(9242),s=n(3396);function r(e,t,n,o,r,a){const i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i)])}var a={name:"App",components:{}},i=n(89);const u=(0,i.Z)(a,[["render",r]]);var c=u;const d={class:"container"},l={class:"wrapper"},h=(0,s._)("h1",{class:"logo"},"Indigo",-1),m=(0,s.Uk)("Register...");function p(e,t,n,r,a,i){const u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",l,[h,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.token=e),type:"text",id:"token",class:"token",placeholder:"put your unique token...",onKeyup:t[1]||(t[1]=(0,o.D2)((e=>i.login()),["enter"]))},null,544),[[o.nr,a.token]]),(0,s._)("div",null,[(0,s.Wm)(u,{to:"/register",class:"register-link"},{default:(0,s.w5)((()=>[m])),_:1})])])])}var g=n(9749),k={mounted(){},name:"LoginComponent",data(){return{token:""}},computed:{...(0,g.Se)("notes",{notes:"getNotes"}),...(0,g.Se)("user",{authenticated:"getAuthenticated",token:"getToken"})},methods:{...(0,g.nv)("notes",{setNotes:"setNotes"}),...(0,g.nv)("user",{setAuthenticated:"setAuthenticated",setToken:"setToken"}),deleteBox(e){this.boxes.splice(e,1)},addNewTask(){let e=this.boxes.length,t=this.getRandomInt(5);this.boxes.push({id:e,content:this.newTask,color:"box box-"+t}),this.newTask=""},getRandomInt(e){let t=Math.floor(Math.random()*e);return 0==t&&(t=1),t},login(){const e={token:this.token};fetch("http://127.0.0.1:8080/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{const{data:t}=e,{token:n}=e;this.setNotes(t.notes),this.setAuthenticated(!0),this.setToken(n),this.$router.push("/home")}))}}};const f=(0,i.Z)(k,[["render",p]]);var v=f,y=n(7139);const w={class:"container"},b={class:"container-inner"},T=["id","onClick"],N={class:"jam"};function _(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",w,[(0,s.wy)((0,s._)("input",{type:"text",class:"task",placeholder:"enter to add new task..","onUpdate:modelValue":t[0]||(t[0]=t=>e.content=t),onKeyup:t[1]||(t[1]=(0,o.D2)((t=>e.createNote()),["enter"]))},null,544),[[o.nr,e.content]]),(0,s._)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.notes,((t,n)=>((0,s.wg)(),(0,s.iD)("div",{key:n,id:t.id,class:(0,y.C_)(e.getRandomColor(6)),onClick:n=>e.deleteBox(t.id)},[(0,s._)("span",null,(0,y.zw)(t.content),1)],10,T)))),128))]),(0,s._)("div",N,[(0,s._)("span",null,(0,y.zw)(this.now),1)])])}let x={name:"HomeComponent",computed:{now(){let e=new Date(this.date).toLocaleTimeString("en-US");return e},...(0,g.Se)("notes",{notes:"getNotes"}),...(0,g.Se)("user",{authenticated:"getAuthenticated",user:"getUser",token:"getToken"})},mounted(){console.log("mounted"),this.getAllnotes()},data(){return{date:"",textContent:"",content:"",s:""}},beforeMount(){this.timer=setInterval(this.setDateTime,1e3)},beforeUnmount(){clearInterval(this.timer)},methods:{setDateTime(){const e=Date.now();this.date=e},...(0,g.nv)("notes",{setNotes:"setNotes"}),deleteBox(e){fetch("http://127.0.0.1:8080/note/"+e,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}}).then((()=>{this.getAllnotes()}))},createNote(){const e={content:this.content};fetch("http://127.0.0.1:8080/note/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify(e)}).then((()=>{this.getAllnotes(),this.content=""}))},getAllnotes(){fetch("http://127.0.0.1:8080/note",{method:"GET",mode:"cors",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const{data:t}=e;console.log(e),this.setNotes(t.notes)}))},getRandomColor(e){let t=Math.floor(Math.random()*e);0==t&&(t=1);const n="box box-"+t;return n}}};var A=x;const C=(0,i.Z)(A,[["render",_]]);var O=C;const S=e=>((0,s.dD)("data-v-5d56d3bd"),e=e(),(0,s.Cn)(),e),j={class:"container"},U={class:"wrapper"},D=S((()=>(0,s._)("h1",{class:"logo"},"Indigo",-1))),I=(0,s.Uk)("Already have an account ?");function Z(e,t,n,r,a,i){const u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("div",U,[D,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.name=e),type:"text",id:"name",class:"token",placeholder:"put your name"},null,512),[[o.nr,a.name]]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.email=e),type:"text",id:"email",class:"token",placeholder:"put your email"},null,512),[[o.nr,a.email]]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.token=e),type:"text",id:"token",class:"token",placeholder:"put your unique token..."},null,512),[[o.nr,a.token]]),(0,s._)("input",{type:"submit",id:"submit",class:"submit",placeholder:"Register",onClick:t[3]||(t[3]=(...e)=>i.register&&i.register(...e))}),(0,s._)("div",null,[(0,s.Wm)(u,{to:"/login",class:"login-link"},{default:(0,s.w5)((()=>[I])),_:1})])])])}var E={mounted(){window.onload=()=>{this.$el.querySelector(".logo").classList.add("logo-end"),this.$el.querySelector(".token").classList.add("token-end")}},name:"LoginComponent",data(){return{name:"",email:"",token:""}},computed:{...(0,g.Se)("notes",{notes:"getNotes"}),...(0,g.Se)("user",{authenticated:"getAuthenticated",token:"getToken"})},methods:{...(0,g.nv)("notes",{setNotes:"setNotes"}),...(0,g.nv)("user",{setAuthenticated:"setAuthenticated",setToken:"setToken"}),register(){const e={name:this.name,email:this.email,token:this.token};fetch("http://127.0.0.1:8080/register",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{const{data:t}=e,{token:n}=e;this.setNotes(t.notes),this.setAuthenticated(!0),this.setToken(n),this.$router.push("/home")}))}}};const L=(0,i.Z)(E,[["render",Z],["__scopeId","data-v-5d56d3bd"]]);var M=L,R=n(678),B=n(2415),P=n(680);const z=()=>({user:{},token:"",authenticated:!1}),H={getUser(e){return e.user},getToken(e){return e.token},getAuthenticated(e){return e.authenticated}},V={setUser(e,t){e.user=t},setToken(e,t){e.token=t},setAuthenticated(e,t){e.authenticated=t}},q={setUser({commit:e},t){e("setUser",t)},reset({commit:e}){e("setUser",{})},setToken({commit:e},t){e("setToken",t)},setAuthenticated({commit:e},t){e("setAuthenticated",t)}};var $={namespaced:!0,state:z,mutations:V,actions:q,getters:H};const J=()=>({notes:[]}),K={getNotes(e){return e.notes}},W={setNotes(e,t){e.notes=t},setNote(e,t){e.notes.push(t)}},F={setNotes({commit:e},t){e("setNotes",t)},setNote({commit:e},t){e("setNotes",t)}};var G={namespaced:!0,state:J,mutations:W,actions:F,getters:K};const Y=(0,B.Z)({key:"indigo-app-user",paths:["user.authenticated","user.user","user.token"],storage:{getItem:e=>P.Z.get(e),setItem:(e,t)=>P.Z.set(e,t,{expires:3,secure:!0}),removeItem:e=>P.Z.remove(e)}}),Q=(0,B.Z)({key:"indigo-app-notes",paths:["notes.notes"],storage:{getItem:e=>P.Z.get(e),setItem:(e,t)=>P.Z.set(e,t,{expires:3,secure:!0}),removeItem:e=>P.Z.remove(e)}});var X=(0,g.MT)({modules:{user:$,notes:G},plugins:[Y,Q]});const ee=[{path:"/",name:"/",component:O,beforeEnter:(e,t,n)=>{X.state.user.authenticated,n({name:"Login"})}},{path:"/login",name:"Login",component:v,beforeEnter:(e,t,n)=>{X.state.user.authenticated&&n({name:"Home"}),n()}},{path:"/home",name:"Home",component:O,beforeEnter:(e,t,n)=>{X.state.user.authenticated||n({name:"Login"}),n()}},{path:"/register",name:"Register",component:M,beforeEnter:(e,t,n)=>{X.state.user.authenticated&&n({name:"Home"}),n()}}],te=(0,R.p7)({history:(0,R.PO)(),routes:ee});var ne=te;(0,o.ri)(c).use(X).use(ne).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,r){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],r=e[d][2];for(var i=!0,u=0;u<o.length;u++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,s,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,r,a=o[0],i=o[1],u=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(u)var d=u(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self["webpackChunkimto_frontend"]=self["webpackChunkimto_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(859)}));o=n.O(o)})();
//# sourceMappingURL=app.9192cacc.js.map